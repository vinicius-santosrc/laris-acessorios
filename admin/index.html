<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LARIS ACESSÓRIOS - Administração</title>

    <link rel="shortcut icon" href="../icon.png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">

    <script src="login.js"></script>

    

    <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="https://kit.fontawesome.com/d5feb0f1e8.js" crossorigin="anonymous"></script>

    <script>
        loginrequired()
    </script>

</head>
<body>
    <div class="first-time-login">
        
    </div>

    <div class="barscript">
    </div>

    <div class="overview-page">
        <div class="backgrond" onclick="fecharmenuprofile()"></div>
        <div class="header-page">
            <div class="openmenumobile" onclick="abrirmenumobile()">
                <i class="fa-solid fa-bars"></i>
            </div>
            <h1>Dashboard</h1>
            <div class="profile">
                <i class="fa-regular fa-bell" onclick="notificacaoopen()"></i>

                <div class="profile-change" onclick="openmenuprofile()">
                    <img id='profile-image' src="img/usuario-sem-foto.png" alt="">
                    <label id='nameuser'>Usuário</label>
                    <i class="fa-solid fa-caret-down"></i>
                </div>
                
            </div>
        </div>
        <div class="notifications">
            <h1>Notificações</h1>
            <div class="notifications-blocks">
                
            </div>
        </div>
        <div class='menu-profile-change'>
            <div class="userprofileshow" onclick="window.location.href = 'settings.html'">
                <div class="account-show">
                    <img src="img/usuario-sem-foto.png" alt="">
                    <div class="infoaccount">
                        <h1>Nome</h1>
                        <p>usuário</p>
                    </div>
                </div>
                <div>
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
            </div>
            <div class="userbuttonsprofile">
                <div class="button-profile" onclick="window.location.href = 'settings.html'">
                    <label>AJUSTES</label>
                </div>
                <div class="button-profile" onclick="sairdoprofile()">
                    <label>SAIR</label>
                </div>
            </div>
        </div>
        <div class="content-page">
            <div class="cardmetames" onclick="window.location.href='goals.html'">
                <div>
                    <h1><i class="fa-solid fa-bullseye"></i> Suas Metas:</h1>
                    <p class="panual"></p>
                    <p class="pmes"></p>
                    <div class="metasparaalcancar">
                        <p class="counttometaanual"></p>
                        <p class="counttometa"></p>
                    </div>
                </div>
                <div class="metasrightside">
                    <div class="imgrightside">
                        <img src="" alt="">
                    </div>
                    <i class="fa-solid fa-gear"></i>
                </div>
            </div>
            
            <div class="contentoverview">
                <div class="toptitlecardmobile">
                    <h1>Dashboard</h1>
                </div>
            
                <div>
                    <div class="toptitlecard pctitledisplayonly">
                        <h1>Visão Geral</h1>
                    </div>
                    <div class="blocks-contents">
                        <div class="block">
                            <div>
                                <i class="fa-solid fa-money-bill"></i>
                                <h1>Lucro total</h1>
                                <h2 class="lucrototal"></h2>
                            </div>
                            <div class="graphcircle graphcircle-total">
                                <div><p>100%</p></div>
                            </div>
                        </div>
                        <div class="block" onclick="window.location.href = 'planilhaexpenses.html'">
                            <div>
                                <i class="fa-solid fa-piggy-bank"></i>
                                <h1>Entradas</h1>
                                <h2 class="incomes">R$</h2>
                            </div>
                            <div class="graphcircle graphcircle-entradas">
                                <div><p class="porcentagementrada">0%</p></div>
                            </div>
                        </div>
                        <div class="block" onclick="window.location.href = 'planilhaexpenses.html'">
                            <div>
                                <i class="fa-solid fa-piggy-bank"></i>
                                <h1>Saídas</h1>
                                <h2 class="expenses">R$</h2>
                            </div>
                            <div class="graphcircle graphcircle-saidas">
                                <div><p class="porcentagemsaida">0%</p></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="blocks-contents-right">
                    <div class="toptitlecard">
                        <div>
                            <h1>Fornecedores</h1>
                        </div>
                        <div>
                            <a href="fornecedores.html"><label>VER MAIS ></label></a>
                        </div>
                        
                    </div>

                    <div class="blocks-contents-fornecedores">
                        <a href="https://app.conectavenda.com.br/91fd8209815b8f86427520a32c28a053" target="_blank">
                            <div class="blockfornecedores">
                                <div class="blockfornecedores-leftside">
                                    <img src="http://d3ugyf2ht6aenh.cloudfront.net/stores/002/289/530/themes/common/logo-1300451119-1658325553-8236ebeadb95411f6d5a1629dcd5e0701658325554.jpg?0" alt="">
                                    <div class>
                                        <h1>Cy Semijóias</h1>
                                        <p>(55) 11 99710-7008</p>
                                    </div>
                                </div>
                                <div class="blockfornecedores-rightside">
                                    <div class="blockfornecedor">
                                        <i class="fa-solid fa-arrow-up-right-from-square"></i>
                                    </div>
                                </div>
                            </div>
                        </a>

                        <a href="https://app.conectavenda.com.br/349c32a2e0b13b4a4629ba91567e110e?busca=00006475" target="_blank">
                            <div class="blockfornecedores">
                                <div class="blockfornecedores-leftside">
                                    <img src="https://conecta-vendas.s3.amazonaws.com/illuminati_comercio_de_semijoias/1651842311.6949-WhatsAppImage2022-05-05at13.05.51.jpeg" alt="">
                                    <div>
                                        <h1>Luminati Pratas</h1>
                                        <p>@luminatipratas</p>
                                    </div>
                                </div>
                                <div class="blockfornecedores-rightside">
                                    <div class="blockfornecedor">
                                        <i class="fa-solid fa-arrow-up-right-from-square"></i>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    <a>
                        <div class="blockfornecedores-add">
                            <a>
                                <h1>
                                    <i class="fa-solid fa-plus"></i> Adicionar mais
                                </h1>
                            </a>
                        </div>
                    </a>
        
                </div>
            </div>
            <div class="contentoverview">
                <div class="block-recent-orders">
                    <div class="toptitlecard">
                        <h1>Pedidos Recentes</h1>
                    </div>
                    <div class="orders-recents">

                    </div>
                </div>
                <div class="blocks-contents-right">
                    <div class="toptitlecard">
                        <h1>Notificações Recentes</h1>
                    </div>
                    <div class="notifications-blocks">
                        
                    </div>
                    

                </div>
            </div>
            <div class="contentoverview">
                <div class="block-recent-orders">
                    <div class="toptitlecard">
                        <h1>Planilhas</h1>
                    </div>
                    <div class="planilha-recents">
                        <div class="planilhablockindex">
                            <a href="planilhaitems.html">
                                <h2>Planilha de Itens</h2>
                                <p>Armazenamento de dados de itens para compras.</p>
                            </a>
                        </div>
                        <div class="planilhablockindex">
                            <a href="planilhaexpenses.html">
                                <h2>Planilha de Despesas</h2>
                                <p>Despesas e Receitas.</p>
                            </a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</body>
<script>
    document.querySelector('.lucrototal').innerHTML = 'R$ ' + localStorage.getItem('total')
    if (localStorage.getItem('total') < 0) {
        document.querySelector('.lucrototal').style.color = 'red'
    }
    else if (localStorage.getItem('total') > 0) {
        document.querySelector('.lucrototal').style.color = 'green'
    }

    document.querySelector('.incomes').innerHTML = 'R$ '+ localStorage.getItem('entradas')
    document.querySelector('.expenses').innerHTML = 'R$ ' + localStorage.getItem('saidas')
</script>
<script>
    document.querySelector('.panual').innerHTML = 'Anual: R$ ' + localStorage.getItem('meta_anual')
    document.querySelector('.pmes').innerHTML = 'Mensal: R$ ' + localStorage.getItem('meta_mes')

</script>
<script src="js.js"></script>
    <script src="leftsidebar.js"></script>
    <script src="script.js"></script>
    <script src="planilha.js"></script>
    <script src="index.js"></script>
    <script src="notifications.js"></script>
    
    <script>
        planilha = JSON.parse(localStorage.getItem('db_items'))
        planilha.forEach(item => {
            document.querySelector('.tbodyplanilharecents').innerHTML = `
        <tr>
            <th>${item.codigo}</th>
            <th>${item.nameofitem}</th>
            <th>${item.detalhe}</th>
            <th>${item.precocompra}</th>
            <th>${item.precorevenda}</th>
            <th>${item.quantcompra}</th>
            <th>${item.quantestoque}</th>
        </tr>`
        })
    </script>
    <script>
        if(localStorage.getItem('total') == null) {
            document.querySelector('.lucrototal').innerHTML = ''
            document.querySelector('.incomes').innerHTML = ''
            document.querySelector('.expenses').innerHTML = ''
        }
    </script>
    <script>
        let metamensal = localStorage.getItem('meta_mes') - localStorage.getItem('total')
        let metaanual = localStorage.getItem('meta_anual') - localStorage.getItem('total')

        if (metamensal <= 0) {
            document.querySelector('.counttometa').innerHTML = `Você alcançou sua meta mensal está com R$${localStorage.getItem('total') - localStorage.getItem('meta_mes')} de lucro.`
            document.querySelector('.counttometa').style.color = 'green'
        }
        else {
            document.querySelector('.counttometa').innerHTML = `Faltam: R$${localStorage.getItem('meta_mes') - localStorage.getItem('total')
            } para alcançar sua meta mensal`
        }

        if (metaanual <= 0) {
            document.querySelector('.counttometaanual').innerHTML = `Você alcançou sua meta anual está com R$${localStorage.getItem('total') - localStorage.getItem('meta_anual')} de lucro.`
            document.querySelector('.counttometaanual').style.color = 'green'
        }

        else {
            document.querySelector('.counttometaanual').innerHTML = `Faltam: R$${localStorage.getItem('meta_anual') - localStorage.getItem('total')} para alcançar sua meta anual`
        }

        if(metamensal <= 0 && metaanual <= 0) {
            document.querySelector('.cardmetames').style.background = 'green'
            document.querySelector('.cardmetames').style.color = 'white'


        }

        if (localStorage.getItem('meta_mes') == null || localStorage.getItem('meta_mes') == '') {
            document.querySelector('.pmes').innerHTML = 'Mensal: <b>Não definido</b>'
            document.querySelector('.cardmetames').style.background = '#FF449E'
            document.querySelector('.cardmetames').style.color = 'white'

            document.querySelector('.counttometa').innerHTML = ''

            document.querySelector('.imgrightside img').setAttribute('src', 'img/0.png')
        }

        if (localStorage.getItem('meta_anual') == null || localStorage.getItem('meta_anual') == '') {
            document.querySelector('.panual').innerHTML = 'Anual: <b>Não definido</b>'
            document.querySelector('.cardmetames').style.background = '#FF449E'
            document.querySelector('.cardmetames').style.color = 'white'

            document.querySelector('.counttometaanual').innerHTML = ''
        }



        if(metamensal <= 0 || metaanual <= 0) {
            document.querySelector('.imgrightside img').setAttribute('src', 'img/50.png')
        }

        if (metamensal <= 0 && metaanual <= 0){
            document.querySelector('.imgrightside img').setAttribute('src', 'img/100.png')
        }

        if (localStorage.getItem('meta_mes') == null || localStorage.getItem('meta_mes') == '') {
            document.querySelector('.metasparaalcancar').style.display = 'none'
            document.querySelector('.imgrightside img').setAttribute('src', 'img/0.png')
        }

        

    </script>

</html>